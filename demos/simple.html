<!DOCTYPE html>
<html>
  <head>
    <script src="http://code.jquery.com/jquery.js" type="text/javascript"></script>
    <script src="../jquery.element.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(function() {
        var movies = [
          { Name: "The Red Violin", ReleaseYear: "1998" },
          { Name: "Eyes Wide Shut", ReleaseYear: "1999" },
          { Name: "The Inheritance", ReleaseYear: "1976" }
	];

        // Handy abbreviation
        var el = $.element;

        var movieTemplate = function(data) {
          return $.map(data, function(movie) {
            return el.li(
              el.b(movie.Name), ' (', movie.ReleaseYear, ')'
            );
          });
        };

        var completeMoviesTemplate = function(data) {
          return el.ul(
            $.map(data, function(movie) {
              return el.li(
                el.b(movie.Name), ' (', movie.ReleaseYear, ')'
              )
            })
          );
        };

        var completeMoviesTemplateWithFor = function(data) {
          var result = el.ul();
          for (var i=0;i<movies.length;i++) {
            var movie = movies[i];
            el.li(
              el.b(movie.Name), ' (', movie.ReleaseYear, ')'
            ).appendTo(result);
          }
          return result;
        };

	$('#movieList').append(movieTemplate(movies));

	el.h3('completeMoviesTemplate').appendTo($('body'));
	completeMoviesTemplate(movies).appendTo($('body'));

	el.h3('completeMoviesTemplateWithFor').appendTo($('body'));
	completeMoviesTemplateWithFor(movies).appendTo($('body'));
      });
    </script>
  </head>
  <body>
    <h3>Original</h3>
    <ul id="movieList"></ul>
  </body>
</html>
